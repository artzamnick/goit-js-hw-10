{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAGE_KEY = 'feedback-form-state';\n\nconst formData = {\n    email: '',\n    message: '',\n};\nconst form = document.querySelector('.feedback-form');\nif (!form) {\n    console.error('Feedback form not found in DOM.');\n}\n\nconst saved = localStorage.getItem(STORAGE_KEY);\nif (saved) {\n    try {\n    const parsed = JSON.parse(saved);\n    formData.email = parsed.email ?? '';\n    formData.message = parsed.message ?? '';\n    } catch (err) {\n    console.warn('Could not parse saved feedback-form-state:', err);\n    }\n}\n\nif (form) {\n    if (form.elements.email) form.elements.email.value = formData.email;\n    if (form.elements.message) form.elements.message.value = formData.message;\n}\n\nif (form) {\n    form.addEventListener('input', (evt) => {\n    const target = evt.target;\n    if (!target || !target.name) return; \n\n    const rawValue = target.value;\n    const trimmed = rawValue.trim();\n\n    formData[target.name] = trimmed;\n    try {\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n    } catch (err) {\n        console.error('Failed to save to localStorage', err);\n    }\n    });\n\n    form.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    const emailVal = (formData.email || '').trim();\n    const messageVal = (formData.message || '').trim();\n\n    if (!emailVal || !messageVal) {\n        alert('Fill please all fields');\n        return;\n    }\n\n    console.log({ email: emailVal, message: messageVal });\n    localStorage.removeItem(STORAGE_KEY);\n    form.reset();\n    formData.email = '';\n    formData.message = '';\n    });\n}\n"],"names":["STORAGE_KEY","formData","form","saved","parsed","err","evt","target","trimmed","emailVal","messageVal"],"mappings":"wFAAA,MAAMA,EAAc,sBAEdC,EAAW,CACb,MAAO,GACP,QAAS,EACb,EACMC,EAAO,SAAS,cAAc,gBAAgB,EAC/CA,GACD,QAAQ,MAAM,iCAAiC,EAGnD,MAAMC,EAAQ,aAAa,QAAQH,CAAW,EAC9C,GAAIG,EACA,GAAI,CACJ,MAAMC,EAAS,KAAK,MAAMD,CAAK,EAC/BF,EAAS,MAAQG,EAAO,OAAS,GACjCH,EAAS,QAAUG,EAAO,SAAW,EACpC,OAAQC,EAAK,CACd,QAAQ,KAAK,6CAA8CA,CAAG,CAC7D,CAGDH,IACIA,EAAK,SAAS,QAAOA,EAAK,SAAS,MAAM,MAAQD,EAAS,OAC1DC,EAAK,SAAS,UAASA,EAAK,SAAS,QAAQ,MAAQD,EAAS,UAGlEC,IACAA,EAAK,iBAAiB,QAAUI,GAAQ,CACxC,MAAMC,EAASD,EAAI,OACnB,GAAI,CAACC,GAAU,CAACA,EAAO,KAAM,OAG7B,MAAMC,EADWD,EAAO,MACC,OAEzBN,EAASM,EAAO,IAAI,EAAIC,EACxB,GAAI,CACA,aAAa,QAAQR,EAAa,KAAK,UAAUC,CAAQ,CAAC,CAC7D,OAAQI,EAAK,CACV,QAAQ,MAAM,iCAAkCA,CAAG,CACtD,CACL,CAAK,EAEDH,EAAK,iBAAiB,SAAWI,GAAQ,CACzCA,EAAI,eAAc,EAElB,MAAMG,GAAYR,EAAS,OAAS,IAAI,KAAI,EACtCS,GAAcT,EAAS,SAAW,IAAI,KAAI,EAEhD,GAAI,CAACQ,GAAY,CAACC,EAAY,CAC1B,MAAM,wBAAwB,EAC9B,MACH,CAED,QAAQ,IAAI,CAAE,MAAOD,EAAU,QAASC,CAAU,CAAE,EACpD,aAAa,WAAWV,CAAW,EACnCE,EAAK,MAAK,EACVD,EAAS,MAAQ,GACjBA,EAAS,QAAU,EACvB,CAAK"}